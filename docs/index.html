<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GuardForm Demo</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/eLDoherty/guardForm@main/style.css" />
    <link rel="stylesheet" type="text/css" href="demo.css" />
</head>
<body>
    <main class="guardform-demo">
        <h1>Demo GuardForm - Simple form validation (Client Side)</h1>
        <form id="test-validate">
            <input type="text" class="guard-input g-required" id="firstname" />
            <input type="text" class="guard-input g-required" id="lastname" />
            <input type="text" class="guard-input g-number" id="age" />
            <input type="text" class="guard-input g-date" id="date"/>
            <input type="text" class="guard-input g-email g-required" id="email" />
            <input type="text" class="guard-input" data-custom-regex="^[A-Za-z]+$" id="regex" />
            <button type="submit" id="btnTestValidate">Submit</button>
        </form>
        <p class="detail">For the detail please visit <a href="https://github.com/eLDoherty/guardForm">GuardForm Repository</a></p>
        <br>
        <p class="detail" style="font-weight: 600;">MADE WITH LOVE</p>
        <p class="detail" style="margin-top: 5px;"><a style="color: red;" href="https://github.com/eLDoherty/">Leonardo Doherty</a></p>
    </main>

    <script src="https://cdn.jsdelivr.net/gh/eLDoherty/guardForm@main/guardForm.js"></script>

    <script>
        //Make sure initiate GuardForm after document already fully loaded

        /* 
        Actuallty you just need to simple initiate like this :
        =================================================================
        document.addEventListener('DOMContentLoaded', () => {
            const formElement = document.getElementById('test-validate');
            if (formElement) {
                formElement.guardForm();
            }
        });
        =================================================================
        */

        document.addEventListener('DOMContentLoaded', () => {
            const formElement = document.getElementById('test-validate');
            
            if (formElement) {
                formElement.guardForm();

                formElement.addEventListener('submit', function(event) {
                    event.preventDefault();

                    let isValid = true;

                    formElement.querySelectorAll('.input-container').forEach(container => {
                        if (container.classList.contains('g-invalid')) {
                            isValid = false;
                        }
                    });

                    if (isValid) {
                        const firstName = document.getElementById('firstname').value;
                        const lastName = document.getElementById('lastname').value;
                        alert(`Hi, ${firstName} ${lastName}!. Happy to see you try GuardForm demo :)`);
                    } 
                });
            }
        });
    </script>


</body>
</html>